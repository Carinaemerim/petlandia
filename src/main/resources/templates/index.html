<html layout:decorate="~{/layouts/main}" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <title th:text="#{item.header}"/>
</head>

<div layout:fragment="css-view" th:remove="tag">
    <link rel="stylesheet" href="/webjars/select2/4.0.5/css/select2.min.css"/>

    <style>
        .select2-results__option { color: black !important; }
    </style>
</div>
<div layout:fragment="js-view">
    <script src="/webjars/select2/4.0.5/js/select2.min.js"></script>
    <script>
        $("document").ready(function(){
            $("#filtroCidade, #filtroTipo").select2({
                "language": {
                    "noResults": function(){
                        return "Não foram localizados registros. ";
                    }
                },
                "placeholder":"--Selecione--",
                "allowClear":true,
                "width":"30%",
                'escapeMarkup': function (markup) {
                    return markup;
                },
            });
        });
    </script>
</div>


<div layout:fragment="content-body">

    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-12">
            <div class="card">
                <div class="card-body">
                    <div class="card-title">
                      <h3 class="title" th:text="#{text.about}"></h3>
                    </div>
                    <h4 class="description" th:text="#{text.us}">
                    </h4>
                </div>
            </div>
        </div>
    </div>

    <section>
        <div class="container">
            <div class="row text-center">
                <div class="col-md-12">

                    <label for="filtroCidade" th:text="#{filter.type.city}" class="ml-5"> </label>
                    <select id="filtroCidade">
                        <option value=""></option>
                        <th:block th:each="city : ${cities}">
                            <option value="2" th:value="${city.id}" th:text="${city.description}"> Canoas </option>
                        </th:block>
                    </select>

                    <label for="filtroTipo" th:text="#{filter.type.animal}" class="ml-5"> </label>
                    <select id="filtroTipo">
                        <option value=""></option>
                        <th:block th:each="animalType : ${animalTypes}">
                            <option value="1" th:value="${animalType.id}" th:text="${animalType.name}"> Cão </option>
                        </th:block>
                    </select>
                </div>
            </div>
        </div>
    </section>


    <th:block th:each="announce : ${announces.getContent()}">
            <img class="path">
            <div class="container" style="padding-top: 30px">
                <div class="row row-grid justify-content-between">
                    <div class="col-md-5">
                        <img src="/photos/dogs.jpg" th:src="${announce.photo.getPictureBase64()}"
                             class="img-fluid floating">
                    </div>
                    <div class="col-md-6">
                        <div class="px-md-5">
                            <hr class="line-success">
                            <span th:text="#{announce.name}"></span>
                            <h3 th:text="${announce.name}">Nome do Doggo</h3>
                            <span th:text="#{announce.type}"></span>
                                <p th:text="${announce.type.name}"> Tipo do animal vai aqui </p>
                            <span th:text="#{announce.size}"></span>
                                <p th:text="${#dates.format(announce.date, 'dd/MMM/yyyy HH:mm:ss')}"> Data </p>
                            <span th:text="#{announce.city}"></span>
                                <p th:text="${announce.city.description}"> Nome da cidade </p>
                            <div class="text-center mt-5">
                                <a class="btn btn-primary btn-round" style="position:relative; z-index: 1"
                                   th:href="@{/announce/details(id = ${announce.id})}">
                                    <i class="tim-icons icon-heart-2" th:text="#{button.detail}"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </th:block>
    <div>
        <ul class="pagination" style="float: right">
            <li class="page-item">
                <a class="page-link" href="#link" aria-label="Previous">
                    <span aria-hidden="true"><i class="tim-icons icon-double-left" aria-hidden="true"></i></span>
                </a>
            </li>
            <li class="page-item">
                <a class="page-link" href="/?page=1">1</a>
            </li>
            <li class="page-item active">
                <a class="page-link" href="/?page=2">2</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="/?page=3">3</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="/?page=1" aria-label="Next">
                    <span aria-hidden="true"><i class="tim-icons icon-double-right" aria-hidden="true"></i></span>
                </a>
            </li>
        </ul>
    </div>
</div>
